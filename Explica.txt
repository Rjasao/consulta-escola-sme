inicio - GUIA_PASSO_A_PASSO.txt

Guia passo a passo para iniciar a busca na API EscolaAberta

1ï¸âƒ£ PreparaÃ§Ã£o do ambiente

1. Instale o Python
   - Certifique-se de ter Python 3.9 ou superior.
   - No terminal, verifique com:
     python --version -> 
   - Se nÃ£o tiver, baixe do site oficial: https://www.python.org/downloads/

2. Crie uma pasta para o projeto
   - Ex.: consulta-escolas-sp ->
   - Dentro dela, teremos duas subpastas:
     backend/ ->
     frontend/ ->

3. Copie todos os arquivos jÃ¡ fornecidos
   - Backend: add.py, api_client.py, utils.py, config.py, .env.example ->
   - Frontend: index.html, style.css, script.js ->
   - Git: .gitignore ->
   - DocumentaÃ§Ã£o: README.txt ->

2ï¸âƒ£ ConfiguraÃ§Ã£o do backend

1. Crie um ambiente virtual (opcional, mas recomendado)
   - Windows CMD:
     cd C:\Users\rjasa\Desktop\consulta-escolas-sp\backend ->
     python -m venv venv ->
     venv\Scripts\activate.bat ->
   - Linux/Mac:
     python -m venv venv ->
     source venv/bin/activate ->

2. Instale as dependÃªncias
   pip install -r requirements.txt ->

3. Configure o arquivo .env
   - Baseie-se no .env.example ->
   - Preencha com as chaves de teste fornecidas:
     CONSUMER_KEY=1rQmU8QENUAmUHWxnvupVUeNwPwa ->
     CONSUMER_SECRET=Zd9fp7G41pDE8Jn6A4FsfnbKmTEa ->
     ACCESS_TOKEN_TESTE=64c494b2-fca5-3e27-b82e-7b6f88ed5855 ->
   - Mantenha os valores de HOST, PORT, TOKEN_URL e URLs de produÃ§Ã£o/sandbox ->

4. Verifique se .gitignore existe
   - Ele deve ignorar arquivos sensÃ­veis (.env) e temporÃ¡rios (__pycache__) ->

3ï¸âƒ£ Inicializando o backend

1. Abra o terminal na pasta backend/ ->

2. Execute o servidor Flask:
  pip install flask-cors ->
  pip install flask requests python-dotenv rapidfuzz ->
  pip list ->
  python add.py ->

 deve retornar algo como:
 * Serving Flask app 'add'
 * Debug mode: on
 * Running on http://127.0.0.1:5000


3. Verifique se o servidor estÃ¡ rodando:
   - Acesse: http://127.0.0.1:5000/health ->
   - Deve retornar algo como:
     
   { pid: 1774
     server: "flask"
     status: "ok" }

4ï¸âƒ£ ConfiguraÃ§Ã£o do frontend

1. Abra a pasta frontend/ ->
2. Abra o arquivo index.html no navegador (Chrome, Firefox, Edge) ->
3. VocÃª verÃ¡:
   - Campos para consumer key, consumer secret, token de acesso, nome da escola ->
   - BotÃµes: Conectar, Servidor, Buscar, Apagar ->
   - Ãrea de resultados (boxes) ->

5ï¸âƒ£ Conectando Ã  API

1. Preencha os campos Chave do Consumidor e Segredo do Consumidor com os valores do .env ->
2. Clique no botÃ£o Conectar (vermelho) ->
   - Ao conectar corretamente:
     - O botÃ£o muda para Conectado (azul) ->
     - O token de acesso Ã© preenchido automaticamente ->
     - Um toast flutuante confirma o sucesso ->
3. Se houver erro:
   - Mensagem aparece em toast flutuante explicando o tipo de erro (conexÃ£o, chaves invÃ¡lidas, etc.) ->

6ï¸âƒ£ Ligar/Desligar o servidor interno (opcional)

- BotÃ£o Servidor ->
  - OFF â†’ ON: indica que o backend estÃ¡ ativo (confirme que add.py estÃ¡ rodando) ->
  - ON â†’ OFF: envia requisiÃ§Ã£o para /api/server/shutdown e encerra o Flask (apenas dev) ->

7ï¸âƒ£ Realizando a busca

1. Digite o nome da escola no campo correspondente ->
   - Pode conter pequenos erros de digitaÃ§Ã£o; o sistema utiliza fuzzy match ->
2. Clique Buscar ->
   - A busca Ã© enviada para o backend, que se comunica com a API EscolaAberta ->
   - Resultados aparecem em boxes separados:
     - Nome ->
     - EndereÃ§o ->
     - NÃºmero ->
     - DRE ->
   - Cada box possui Ã­cone ðŸ“‹ para copiar os dados ->
3. Se nenhum resultado for encontrado:
   - Um toast flutuante avisarÃ¡ â€œNenhuma correspondÃªncia encontradaâ€ ->
4. Se ocorrer erro de conexÃ£o ou API:
   - Mensagem de erro aparece no toast, informando se foi busca ou outro tipo ->

8ï¸âƒ£ Limpeza de campos

- Cada campo possui botÃ£o Apagar para limpar entradas individuais ->
- BotÃ£o Apagar busca limpa o campo do nome da escola e resultados ->

9ï¸âƒ£ Dicas finais

- Sempre iniciar o backend antes do frontend ->
- Se o token expirar (3600s), clique novamente em Conectar ->
- Sandbox e ProduÃ§Ã£o podem ser alternados alterando base_url no frontend ou .env ->
- Para mobile e tablets, o layout se adapta automaticamente (Bootstrap + CSS) ->




final
